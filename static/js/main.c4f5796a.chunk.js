(this["webpackJsonpmap-to-field"]=this["webpackJsonpmap-to-field"]||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),i=n.n(c),r=n(14),s=n.n(r),l=(n(24),n(4)),o=n(3),j=n(18),u=n(9),b=n(2);n(25);var d=function(e){var t=e.id,n=e.addMapping,c=e.mailManifestHeaders,i=e.mapping;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("select",{onChange:function(e){n(t,e.target.value)},value:i||"",children:[Object(a.jsx)("option",{value:""}),c.map((function(e){return Object(a.jsx)("option",{value:e,children:e},"option_".concat(e))}))]})})};var O=function(e){var t=e.id,n=e.addValue,c=e.value;return Object(a.jsx)("input",{type:"text",onChange:function(e){n(t,e.target.value)},value:c})};var f=function(e){var t=e.id,n=e.addMapping,i=e.addValue,r=e.isHidden,s=e.mailManifestHeaders,l=e.mapping,o=e.value,j=Object(c.useState)(""),u=Object(b.a)(j,2),f=u[0],p=u[1];return Object(a.jsxs)("td",{className:r?"":"hidden",children:[Object(a.jsxs)("select",{onChange:function(e){p(e.target.value)},value:f||"",children:[Object(a.jsx)("option",{value:""}),Object(a.jsx)("option",{value:"mapper",children:"Mapper"}),Object(a.jsx)("option",{value:"input",children:"Input"})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),l||"mapper"===f?Object(a.jsx)(d,{id:t,addMapping:n,mailManifestHeaders:s,mapping:l}):o||"input"===f?Object(a.jsx)(O,{id:t,addValue:i,value:o}):null]})};var p=function(e){var t=e.addMapping,n=e.addValue,c=e.mailManifestHeaders,i=e.mappings,r=e.templateHeaders,s=e.toggleColumn,l=e.values,o=e.visibilitySettings;return Object(a.jsxs)("table",{children:[Object(a.jsx)("thead",{children:Object(a.jsx)("tr",{children:r.map((function(e){return Object(a.jsxs)("td",{className:-1===o.indexOf(e)?"":"hidden",children:[Object(a.jsx)("span",{children:e}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{id:"toggle_".concat(e),type:"checkbox",onChange:s,checked:-1===o.indexOf(e)})]},"header_".concat(e))}))})}),Object(a.jsx)("tbody",{children:Object(a.jsx)("tr",{children:c.length>0&&r.map((function(e){return Object(a.jsx)(f,{id:e,addMapping:t,addValue:n,isHidden:-1===o.indexOf(e),mailManifestHeaders:c,mapping:i[e]||"",value:l[e]||""},"cell_".concat(e))}))})})]})},g=n(36);function h(e,t,n){e&&t.unshift(e);var a=function(e){for(var t="object"!==typeof e?JSON.parse(e):e,n="",a=0;a<t.length;a++){var c="";for(var i in t[a])""!==c&&(c+="\t"),c+=t[a][i];n+="".concat(c,"\r\n")}return n}(JSON.stringify(t)),c=n?"".concat(n,".txt"):"export.txt",i=new Blob([a],{type:"text/plain;charset=utf-8;"}),r=document.createElement("a");if(void 0!==r.download){var s=URL.createObjectURL(i);r.setAttribute("href",s),r.setAttribute("download",c),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r)}}var m=function(){var e=Object(c.useState)([]),t=Object(b.a)(e,2),n=t[0],i=t[1],r=Object(c.useState)([]),s=Object(b.a)(r,2),d=s[0],O=s[1],f=Object(c.useState)([]),m=Object(b.a)(f,2),v=m[0],x=m[1],S=Object(c.useState)([]),y=Object(b.a)(S,2),M=y[0],C=y[1],N=Object(c.useState)({}),F=Object(b.a)(N,2),H=F[0],J=F[1],E=Object(c.useState)({}),I=Object(b.a)(E,2),_=I[0],k=I[1];return Object(c.useEffect)((function(){console.log(H),console.log(_)}),[H,_]),Object(c.useEffect)((function(){var e,t=localStorage.getItem("visibilitySettings");try{e=JSON.parse(t)}catch(n){e=[]}O(e)}),[]),Object(c.useEffect)((function(){var e,t=localStorage.getItem("mappings");try{e=JSON.parse(t)}catch(n){e=[]}J(e)}),[]),Object(c.useEffect)((function(){var e,t=localStorage.getItem("values");try{e=JSON.parse(t)}catch(n){e=[]}k(e)}),[]),Object(c.useEffect)((function(){localStorage.setItem("visibilitySettings",JSON.stringify(d||[]))}),[d]),Object(c.useEffect)((function(){localStorage.setItem("mappings",JSON.stringify(H||{}))}),[H]),Object(c.useEffect)((function(){localStorage.setItem("values",JSON.stringify(_||{}))}),[_]),Object(a.jsx)("div",{className:"app",children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("label",{htmlFor:"template",children:["Upload Template File",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{id:"template",type:"file",name:"template",onChange:function(e){var t;(t=e.target.files[0],Object(g.a)(t).then((function(e){return Object(b.a)(e,1)[0]})).catch(console.log)).then(i)}})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsxs)("label",{htmlFor:"mail_manifest",children:["Upload Mail Manifest",Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("input",{id:"mail_manifest",type:"file",name:"mail_manifest",onChange:function(e){var t;(t=e.target.files[0],Object(g.a)(t).then((function(e){var t=Object(u.a)(e),n=t[0],a=t.slice(1).map((function(e){return e.reduce((function(e,t,a){var c=t;return c instanceof Date&&(c=function(e){var t=""+(e.getMonth()+1),n=""+(e.getDate()-1),a=e.getFullYear();return t.length<2&&(t="0"+t),n.length<2&&(n="0"+n),[a,t,n].join("-")}(c)),Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},n[a],c))}),{})}));return[n,a]})).catch(console.log)).then((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];x(n),C(a)}))}})]}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),n.length>0&&Object(a.jsx)(p,{addMapping:function(e,t){J((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},e,t))}))},addValue:function(e,t){k((function(n){return Object(o.a)(Object(o.a)({},n),{},Object(l.a)({},e,t))}))},mailManifestHeaders:v,mappings:H,templateHeaders:n,toggleColumn:function(e){var t=e.target.id.split("_"),n=Object(u.a)(t).slice(1).join("_");O((function(e){var t=Object(j.a)(e),a=e.indexOf(n);return a>-1?t.splice(a,1):t.push(n),t}))},values:_,visibilitySettings:d}),Object(a.jsx)("br",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{children:Object(a.jsx)("button",{type:"button",onClick:function(){!function(e,t,n,a){var c=a.map((function(a){return e.reduce((function(e,c){return t[c]||n[c]?Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},c,t[c]?a[t[c]]:n[c])):Object(o.a)(Object(o.a)({},e),{},Object(l.a)({},c,""))}),{})}));h(e,c)}(n,H,_,M)},children:"Download Amazon Upload File"})})]})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(m,{})}),document.getElementById("root")),v()}},[[34,1,2]]]);
//# sourceMappingURL=main.c4f5796a.chunk.js.map